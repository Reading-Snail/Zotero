PowDew: Detecting Counterfeit Powdered Food Products using a Commodity Smartphone
Jonghyuk Yun jonghyuk.yun@cyphy.kaist.ac.kr KAIST/Yonsei University
Kyoosik Lee kyoosik.lee@postech.ac.kr POSTECH
Kichang Lee kichang.lee@yonsei.ac.kr Yonsei University
Bangjie Sun bangjie@comp.nus.edu.sg National University of Singapore
Jaeho Jeon jaeho.jeon.23@gmail.com Yonsei University
JeongGil Ko jeonggil.ko@yonsei.ac.kr Yonsei University/POSTECH
Inseok Hwang i.hwang@postech.ac.kr POSTECH/Yonsei University
Jun Han junhan@cyphy.kaist.ac.kr KAIST
ABSTRACT
The prevalence of counterfeit infant formulas worldwide poses serious threats to infant health and safety, a concern highlighted by the notorious Melamine Milk Scandal that affected hundreds of thousands of children. The primary challenge in detecting counterfeit formulas lies in their sophisticated adulteration and substitution techniques. Such detection is feasible only in laboratory settings, making it nearly impossible for average consumers to test the formula before feeding their infants. To address this problem, we propose PowDew, a novel and practical system for detecting counterfeit infant formula that utilizes only a commodity smartphone. PowDew operates by capturing and analyzing the interaction of a water droplet with the powdered formula, focusing on the droplet motion, namely its spreading and penetration. Our insight is that the droplet motions are governed by powder-specific properties such as wettability and porosity. PowDew analyzes the subtle differences in droplet motions, and infers the formula’s authenticity. To demonstrate PowDew’s effectiveness, we implement PowDew and conduct comprehensive real-world experiments under varying conditions with different brands of powdered infant formula and adulterants. Our experiments result in a total of 12,000 minutes of video recordings of the droplet motions on various infant formulas, including authentic and altered. Our experiments demonstrate that PowDew yields an overall detection accuracy of up to 96.1%.
CCS CONCEPTS
• Human-centered computing → Mobile phones; Smartphones; • Computing methodologies → Computer vision.
Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. Copyrights for components of this work owned by others than the author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or republish, to post on servers or to redistribute to lists, requires prior specific permission and/or a fee. Request permissions from permissions@acm.org. MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan
© 2024 Copyright held by the owner/author(s). Publication rights licensed to ACM. ACM ISBN 979-8-4007-0581-6/24/06. . . $15.00 https://doi.org/10.1145/3643832.3661877
KEYWORDS
Counterfeit, Powdered Food Products, Smartphone
ACM Reference Format:
Jonghyuk Yun, Kyoosik Lee, Kichang Lee, Bangjie Sun, Jaeho Jeon, JeongGil Ko, Inseok Hwang, and Jun Han. 2024. PowDew: Detecting Counterfeit Powdered Food Products using a Commodity Smartphone. In The 22nd Annual International Conference on Mobile Systems, Applications and Services (MOBISYS ’24), June 3–7, 2024, Minato-ku, Tokyo, Japan. ACM, New York, NY, USA, 13 pages. https://doi.org/10.1145/3643832.3661877
1 INTRODUCTION
Powdered food products, ranging from dietary supplements to specialized nutritional formulas, are popular for their convenience, cost-effectiveness, and long shelf life [2, 27, 70, 74, 85]. Infant formulas are a key category within this segment. These products are specifically designed to substitute or complement breast milk and are often available in powdered form. Reflecting the advantages, the demand for powdered infant formulas is continuously rising, and their global market value is projected to reach approximately $174 billion by 2032 [21, 69]. Unfortunately, counterfeit infant formulas are reported in many parts of the world and pose severe threats to infant health and safety [1, 48, 51, 58, 59, 71, 72, 89]. Specifically, these products are adulterated by mixing cheaper, and potentially harmful substances with authentic formulas. An infamous example is the Melamine Milk Scandal, where infant formulas were adulterated with melamine, a chemical used in plastics and fertilizers. This scandal impacted approximately 300,000 children, resulting in hospitalization for around 54,000, and tragically led to many fatalities [14, 44, 50]. In other instances, infant formulas have been adulterated with cheap milk powders [9, 30, 49], whey protein [12, 20, 87], or even other lower-grade formulas [17, 51, 59]. Recent reports also indicate a rise in the substitution of products, where substandard formulas are falsely packaged with authentic product labels in a sophisticated manner by imitating safety seals, branding, and packaging designs [51, 59, 71, 72, 75, 89]. As such, effectively detecting counterfeit infant formulas is increasingly challenging. Advanced methods predominantly involve chemical analysis techniques such as Near Infrared Spectroscopy
210


MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan Jonghyuk Yun, Kyoosik Lee, Kichang Lee, Bangjie Sun, Jaeho Jeon, JeongGil Ko, Inseok Hwang, and Jun Han
Changes in Droplet Movement
3
User Scoops
1 User Drops
2 Smartphone
Projects Checkerboard
Counterfeit!
Displayed Checkerboard on Screen
Figure 1: Figure illustrates the usage scenario of PowDew. ○1 The user begins by scooping and leveling the powder using the spoon provided with the infant formula. ○2 The user aligns the spoon according to the guidance provided by the PowDew mobile app. The user then drops water droplets onto the surface of the powder. Following this, the PowDew app projects a checkerboard paern onto the droplet from the smartphone’s screen. ○3 The smartphone captures the droplet motion using the front-facing camera.
(NIRS) or Mass Spectrometry (MS). NIRS analyzes optical absorption, while MS measures the mass-to-charge ratio of ions, both aiming to ascertain the composition, structure, and physical properties of powdered formulas [40, 52, 83]. However, these sophisticated methods typically require specialized, costly lab equipment, making it impractical for everyday consumers to perform quick tests on newly opened infant formula. To address the challenges of detecting counterfeit infant formulas, we ask a pivotal question: Can we devise a practical solution using only a commodity smartphone? In response, we propose PowDew, a system designed to detect counterfeit infant formula utilizing a commercial smartphone, as illustrated in Figure 1. The process involves the user simply dropping a few water droplets onto a bed of powdered formula in a spoon (that comes equipped with the powder container). PowDew proceeds to analyze the video captured by the smartphone by observing the behavior of the water droplet – particularly its droplet motion, namely its spreading and penetration, upon contacting the powder. A powder of different composition results in different droplet motions, governed by the powder properties, namely wettability and porosity. PowDew analyzes the subtle differences in droplet motions, and ascertains vital information indicative of the powder’s authenticity. Designing PowDew, however, comes with the following challenges. First, accurately capturing the droplet motion poses a challenge, as the camera captures a two-dimensional view of a threedimensional motion. To address this, we propose a novel technique
(b)
(a)
High Porosity
Low Porosity
Low Wettability High Wettability
θ
θ
Fast Penetration
Flat Shape
Spherical Shape
Slow Penetration
Figure 2: Physical properties of a powder and their impact on the water droplet. Specifically, (a) depicts the impact of weability on how a droplet spreads out on the powder surface, leading to changes in its shape (e.g., from spherical to spherical or flat shapes). (b) depicts the impact of porosity on the amount, speed, and directions of a droplet penetrating into the powder.
of utilizing the smartphone’s display to project a checkerboard pattern onto the droplet surface. By recording the dynamic movement changes of this reflected pattern using the smartphone’s frontfacing camera, PowDew achieves a precise depiction of the droplet motion.
Second, accurately capturing and tracking the checkerboard movement presents an additional challenge, as PowDew must identify subtle differences in powder properties. For this, we employ state-of-the-art object tracking techniques to ascertain the precise movements of checkerboard corners. This process incorporates a corner correction mechanism that addresses incorrectly tracked checkerboard corners (i.e., those wrongly identified or missed). Furthermore, it ensures that even small shifts in corner locations, indicative of changes in powder properties, are accurately captured. We implement and evaluate PowDew by conducting comprehensive real-world experiments. We conduct these experiments under diverse conditions with six different brands of powdered infant formula and three different adulterants produced across five countries. We also invite multiple participants to drop water droplets onto the powder while having PowDew record the droplet movement using a smartphone camera, demonstrating practical usability of PowDew. In total, we collect 12,000 minutes of recording and demonstrate that PowDew yields a detection accuracy of up to 96.1%.
2 BACKGROUND, CORE IDEA, AND FEASIBILITY STUDY
In this section, we introduce relevant background information and the core idea of PowDew. We then present a feasibility study for PowDew.
2.1 Physical Properties of Powders
Powdered food products from different brands exhibit unique physical properties, such as wettability and porosity, influenced by their
211


PowDew: Detecting Counterfeit Powdered Food Products using a Commodity Smartphone MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan
manufacturing techniques and ingredient compositions. Wettability [54, 73] refers to the ability of powders to interact with liquid, such as water droplets, causing water droplet spreading from their original spherical shape to a flat shape on the powder surface. Porosity [33] refers to the measure of empty spaces or voids between powder particles, which also affects the powders’ interaction with water droplets, namely the penetration of droplets into the powders. Figure 2 depicts how powder wettability and porosity influence the spreading and penetration of water droplets.
Impact of Weability on Droplet Spreading. A powder of low wettability minimally interacts with a water droplet, maintaining the droplet’s original spherical shape. In contrast, high wettability destroys the droplet’s ability to maintain its shape and causes the droplet to spread out on the powder surface, creating a flat shape. Figure 2(a) illustrates this phenomenon, which we name as the droplet spreading. The amount of spreading is governed by the interfacial tensions between the liquid and solid phases (i.e., a force acting on the boundary between the two phases) [24, 66, 82]. The contact angle, θ , between the droplet and the surface of the powder bed is a typical measure of the amount of spreading. For example, a powder with high wettability usually causes a small contact angle (i.e., θ < 90◦). Young’s Equation [96] quantitatively defines the contact angle in relation to the interfacial tensions of the solid-vapor (SV), solid-liquid (SL), and liquid-vapor (LV) interfaces, expressed as cos θ = (γSV − γSL)/γLV , where θ is the contact angle, and γSV , γSL, γLV represent the corresponding interfacial tensions.
Impact of Porosity on Droplet Penetration. The porosity of powders affects how water droplets penetrate into the powder. Figure 2(b) illustrates this phenomenon. For example, a powder with high porosity allows a water droplet to penetrate rapidly due to the large volume of pores (or empty spaces) in the powder. The penetration of droplets is modeled by Darcy’s Law [23, 28], which indicates that the rate of penetration (which refers to the volume of droplet entering per time unit) rises as the pressure for liquid penetration into the pores, denoted as ΔP, decreases. Moreover, ΔP = 2(γSV − γSL)/R, where R denotes the radius of the pore [25]. Hence, a high porosity leads to a high liquid penetration pressure, which, in turn, increases the volume and speed of a droplet penetrating the powder. Key Takeaways. The underlying physics reveal that there is a correlation between the wettability and porosity of a powder and the amount and speed of spreading and penetration of a water droplet in contact with the powder surface. Thus, PowDew employs a smartphone camera to capture these physical behaviors (i.e., droplet motion), governed by the powder-specific physical properties, ultimately determining its authenticity.
2.2 Challenges and Core Idea of PowDew
Precisely capturing the droplet motion, namely spreading and penetration, is extremely important for PowDew in determining the authenticity of the powder. However, there are two main challenges when utilizing only a single smartphone camera for this purpose. First, since a camera only provides a restricted two-dimensional view, such as a top-down or side view, it is unable to fully capture the droplet motion in three dimensions. For example, spreading occurs on top of the powder surface while penetration occurs into
t1 t2 t3
Time (s)
Figure 3: Demonstration of the droplet motion, namely the spreading and penetration. The contrast of the images is exaggerated for visual clarity. As the droplet spreads and penetrates, its upper surfaces become increasingly flatter. This change results in the enlargement of the center square of the projected checkerboard pattern. Moreover, the droplet often spreads or penetrates in random directions, which can cause the checkerboard pattern to appear distorted.
the powder. It is difficult to capture both at the same time with a single camera. Second, a commodity smartphone camera may not capture subtle changes in the movement and surface morphology (e.g., curvature) of a droplet. This is because these changes may be influenced by lighting conditions and obscured by noises like uneven powder surfaces. To address the aforementioned issues, PowDew’s core idea is to project a checkerboard pattern, from the smartphone’s display, onto the surface of a droplet and capture the dynamic changes of the reflected checkerboard pattern on the droplet’s surface using the smartphone’s front camera. Using a checkerboard projection allows us to capture subtle movements and changes in the droplet’s surface morphology. This is achieved by analyzing the varying sizes and shapes of the checkerboard tiles, which exhibit pronounced changes. This is feasible since changes in the three-dimensional shape of the droplet (due to spreading and penetration) directly influence the reflection of the checkerboard, causing noticeable changes in the size and shape of the tiles captured at the smartphone camera. Figure 3 depicts the dynamic changes of the reflected checkerboard with respect to the droplet motion. We observe a drastic change in the size and shape of the center square, the largest white square in the center of the reflected checkerboard. When the droplet spreads out and becomes flat, the size of the center square increases. At the same time, as the droplet penetrates the powder, the randomness of pores in the powder causes the different parts of the droplet to penetrate in random directions, leading to distortion of the center square’s shape. We can also observe a rapid change in the center square’s shape as the droplet penetrates rapidly.
2.3 Feasibility Study
We conduct a feasibility study to validate our two main hypotheses: (1) using a checkerboard projection can facilitate effortless capture
212


MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan Jonghyuk Yun, Kyoosik Lee, Kichang Lee, Bangjie Sun, Jaeho Jeon, JeongGil Ko, Inseok Hwang, and Jun Han
Testing Without Checkerboard
(a)
(b)
Authentic Counterfeit
ti tj ti tj
Testing With Checkerboard
Without Checkerboard With Checkerboard
Measured and
Normalized Value
Measured and
Normalized Value
Large
Difference!
Small
Difference!
Counterfeit
Authentic
Figure 4: Illustration of changes in droplet shape over time and the effect of using reflected checkerboards. (a) illustrates the aid of the checkerboard projection on the droplet. (b) demonstrates a large, amplified difference in observing the droplet with the assist of a checkerboard reflection.
of droplet motion by a single smartphone and (2) dynamic changes of the checkerboard’s center square can be used to determine the authenticity of a powder. Setup. We prepare two off-the-shelf powders, namely an authentic infant formula (i.e., Authentic) and a budget milk powder. We adulterate 50% of infant formula with 50% of the budget milk powder which acts as a counterfeit here. We capture the droplet motion with and without the checkerboard projection using a smartphone’s front camera.
Hypothesis (1): Assistance via Checkerboard. Figure 4(a) illustrates the differences in the captured water droplets when testing an authentic powder with and without the checkerboard projection. Note that we purposefully present hand-drawn illustrations instead of real photos, due to the limitation that it is impossible to reproduce an identical shape of droplets across two conditions. Hence, Figure 4 is to convey the key principles, while Figure 3 depicts how an actual droplet and the center square spread over time, respectively. In Figure 4, the red solid lines indicate the area of a water droplet and the red dotted lines indicate the area of the center square as the droplet spreads and penetrates. Over time (from ti to t j ), we can observe notable changes in the area of the center square, while only subtle differences in the droplet’s area. Figure 4(b) illustrates the normalized change in the captured area from ti to t j for both authentic and counterfeit powder cases. The difference in the center square area with the checkerboard is significantly more distinguishable compared to the whole droplet area without the checkerboard. Consequently, the checkerboard’s presence enables the smartphone camera to more easily observe the droplet motion. Hypothesis (2): Powder Authenticity. Figure 4(b) illustrates the distinction between authentic and counterfeit powders based on the rate at which the center square area of the checkerboard increases. A large difference demonstrates the feasibility of using a checkerboard projection (like the center square area) to determine the authenticity of powders. In addition to the area, PowDew extracts other critical features to improve its performance and robustness (see §3.4).
3 SYSTEM DESIGN
We now present the details of PowDew’s design.
3.1 System Overview
We design PowDew to verify the authenticity of powdered food products by employing a smartphone screen to project a checkerboard pattern onto a water droplet’s surface once dropped onto the powder. Subsequently, PowDew captures the reflected pattern using the smartphone’s camera for further analysis. PowDew consists of two distinct phases: Training and Verification phases. During the Training Phase, PowDew undergoes machine learning model training with a large collection of video recordings consisting of authentic and counterfeit powders, each appropriately labeled as such. Counterfeit conditions include various levels of adulteration or substitution with cheaper alternative powdered food. In this phase, PowDew processes these videos to extract salient features, which are then used to train a machine learning model. We note that this can be a one-time process and envision the infant formula manufacturers or government regulatory agencies (e.g., FDA), to perform such offline training and store the trained model on their cloud. In the Verification Phase, users are instructed to drop a water droplet on a leveled powder bed. Then, using their smartphones, they capture a video of the water droplet spreading over or penetrating the powder while projecting the checkerboard pattern onto the droplet. With this video, PowDew operates the pre-trained model to verify the authenticity of the power. This process is designed to be simple and quick, enabling average parents to easily perform this verification step with their smartphones upon opening a new container of formula. Figure 5 illustrates an overview of PowDew’s system design. Specifically, the User Guidance and Data Collection module (§3.2) guides the user to record a video of a water droplet being dropped onto the powder. These captured videos are then input to the Preprocessing module (§3.3), which segments the region of interest displaying the droplet with the checkerboard reflection and enhances the contrast of video frames. Subsequently, the Checkerboard Feature Extraction module (§3.4) extracts crucial features related to the dynamic changes in the checkerboard’s size and shape. Finally, the Training and Verification module (§3.5) verifies the authenticity of the powder with a trained machine-learning classifier.
3.2 User Guidance and Data Collection
Maintaining a consistent distance and angle between the camera and the spoon powder bed is crucial when capturing the video, as the checkerboard pattern’s reflection on the water droplet is influenced by these factors. Figure 5(a) illustrates a user-friendly setup keeping constant distance and angle using a typical household item such as a paper cup. To further help with horizontal alignment, PowDew offers user guidance to direct the user to place the powder spoon at the optimal location with respect to the camera. However, as the smartphone screen projects the checkerboard onto the droplet, the user cannot directly view the smartphone screen for alignment. To address this issue, we design and implement two assistant features. The first involves using an auxiliary display, such as a smartwatch, iPad, laptop, or smart TV, to mirror the smartphone’s screen. This method provides the user with a clear view, aiding in the accurate placement of the spoon at the optimal location. In the case where an auxiliary device is not an option, the user can also utilize voice-over
213


PowDew: Detecting Counterfeit Powdered Food Products using a Commodity Smartphone MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan
User Guidance and Data Collection (§3.2)
User
Drops
User Guidance
Pre-processing (§3.3)
ROI Extraction
Contrast Enhancement
Extract
Enhanced Video 640 X 640
Corner
Detection
Model
Captured Video 1080P 30fps
Checkerboard Feature Extraction (§3.4)
Corner Detection and Tracking
Feature Extraction
Training Phase
Training and Verification (§3.5)
Ensemble Classifier
Verification Phase
Extracted Features Trained Model
Authenticity
Counterfeit!
Output
Cloud
(a) (b) (c) (d)
12
34
52
3
52
3
12
34
Corner Correction
Inaccurate Frame Identification
Figure 5: Figure depicts the flowchart of PowDew. During the Training Phase, relevant parties such as infant formula manufacturers or government regulatory agencies (e.g., FDA) train the model. This is performed by using the video recordings that capture both authentic and counterfeit products with various adulterants. During the Verification Phase, the user drops the droplet onto the powder bed and records the video. PowDew then analyzes the droplet motion to determine the authenticity of the infant formula.
feedback, with instructions such as “move left” or “move up”, to assist the user in correctly positioning the spoon within the image.
3.3 Pre-processing
In the pre-processing module, PowDew first identifies and extracts the region of interest (ROI), which includes the droplet and its checkerboard reflection in each video frame. Following this, PowDew enhances the contrast within this ROI. This is crucial in reducing the effect of external environmental factors, such as varying lighting conditions. Figure 5(b) depicts the processing pipeline of this module.
Region of Interest Extraction. In each video frame, PowDew focuses exclusively on the spoon powder bed region, eliminating all other areas. This approach significantly enhances image processing efficiency, as the ROI is much smaller (i.e., 4.3% in area) compared to the full video frame. Additionally, this method helps reduce human errors that may arise in various tests or with different users, such as inconsistent positioning of the droplet or variations in the distance between the camera and the powder bed. To achieve this, PowDew operates an edge detection algorithm [77] to determine the powder bed boundaries (e.g., edge of a spoon). It then exploits the Hough circle detection algorithm [43] to pinpoint the powder bed’s exact location. When a circle is consistently identified in n successive frames (n = 10 in our implementation), PowDew confirms the area as the powder bed (marked with a green-dotted circle in Figure 5(b)). Following this identification, PowDew crops a square area encompassing the powder bed (indicated by a blue-lined square), based on a pre-determined size that reflects the powder bed’s actual dimensions. The cropped region is then resized to a normalized dimension of 640x640 pixels to generate the ROI. Contrast Enhancement. Subsequently, PowDew performs operations to enhance the contrast of the extracted ROIs. The checkerboard pattern, composed of black and white tiles, inherently has a high contrast in luminance (i.e., brightness or intensity of light reflected). However, external factors such as ambient lighting and
powder colors can reduce this contrast, making it difficult to distinguish between the black and white tiles. To address this, PowDew employs contrast enhancement methods to clearly define the boundaries. Specifically, PowDew converts the RGB color space to Lab. In the Lab space, L represents luminance, while a and b denote the color components, specifically red/green and blue/yellow, respectively. The next step enhances the contrast of the L component. Specifically, we use a tile-based local contrast histogram equalization algorithm [67] with a clip limit to prevent over-enhancements. Finally, PowDew converts the ROIs back to RGB space and feeds this result to the Checkerboard Feature Extraction module, as depicted in Figure 5(c).
3.4 Checkerboard Feature Extraction
In this module, PowDew extracts features from the dynamic changes in size and shape of the checkerboard, as observed in the preprocessed video frames. These changes are indicated by the checkerboard corner movements, and accurately capturing these movements is vital for differentiating powder products with subtle differences in their physical properties. To achieve this, we devise a novel corner detection and tracking technique. Figure 6 details the processing pipeline. Initially, PowDew detects corners of the checkerboard in each frame, which is followed by the tracking of their movements over successive frames in the Corner Detection and Tracking step (§3.4.1). In the next step, PowDew identifies frames containing incorrectly detected and tracked corners in Inaccurate Frame Identification (§3.4.2). Then PowDew corrects the errors in invalid frames using Corner Correction (§3.4.3) to ensure corner movements are accurately captured. Finally, in the Feature Extraction step (§3.4.4), PowDew analyzes the statistical features of corner movements.
3.4.1 Corner Detection and Tracking. In this step, PowDew first detects the locations of checkerboard corners in each of the preprocessed frames and then identifies the movement of each corner across frames. Figure 6(a) depicts an example of detected and tracked corners in each frame.
214


MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan Jonghyuk Yun, Kyoosik Lee, Kichang Lee, Bangjie Sun, Jaeho Jeon, JeongGil Ko, Inseok Hwang, and Jun Han
Checkerboard Feature Extraction (§3.4) Fig. 6(a) Corner Detection and Tracking (§3.4.1)
1
Frame a Frame b Frame c
2
34
1
2
3
2
34
5
Fig. 6(b) Inaccurate Frame Identification (§3.4.2)
12
34
2
3
5 (1) Re-identification Error
(2) Detection Errors
Fig. 6(c) Corner Correction (§3.4.3)
12
34
2
3
5d
Re-assign Corner ID
Calculate Distance
Fig. 6(d) Feature Extraction (§3.4.4)
Corner ID
Frame b
2
3
1
Frame b+1
2
3
1
4
Frame b-1
2
3
1
4
Correct Interpolation Correct
Center Square
Major Axis
Minor Axis
Center Square Area
Statistical Features
Major-to-Minor Ratio
Accurate Frame a Inaccurate Frame b
C1,a C5,b
C5,b C1,b
(i) Correcting Re-identification Error
(ii) Correcting Detection Errors
Accurate Frame a Inaccurate Frame b
15
51
Figure 6: Figure depicts the detailed processing pipeline of the Checkerboard Feature Extraction module (§3.4). Specifically, Corner Detection and Tracking (§3.4.1) locates the corners across video frames. Inaccurate Frame Identification (§3.4.2) identifies frames that contain incorrect corners. PowDew then corrects the errors in these frames in Corner Correction (§3.4.3). Finally, Feature Extraction (§3.4.4) extracts statistical features using the corners of the checkerboard.
Corner Detection. We leverage the state-of-the-art object detection technique to determine the locations of corners in the checkerboard. Due to limited image resolution and rapid corner movements, the checkerboard is often observed blurry. Hence, it is difficult to identify the exact location of each corner. We resort to utilizing a deep-learning object detection model, namely YOLOv8 [68, 91]. However, a publicly available pre-trained YOLOv8, despite being trained with large-scale datasets, lacks specialization in detecting corners of a checkerboard. Thus, we fine-tune the model using checkerboard images, with manually annotated corners, to improve the detection accuracy. We obtain a bounding box around each corner and compute the centroid of the bounding box as the corner location. Corner Tracking. Subsequently, we track the movement of each detected corner across frames. We assign an ID to each corner and re-identify the same corner appearing in subsequent frames. We obtain a list of locations to represent each corner movement. For example, we obtain the locations of each corner (indicated with a red box in Frames a, b, and c) and assign corresponding IDs (i.e., 1, 2, 3, 4) to these corners in Frame a. For this task, we adopt DeepSORT [93], a computer vision tracking algorithm for tracking objects while assigning an ID to each object. We use DeepSORT because of its outstanding tracking accuracy and real-time performance.
3.4.2 Inaccurate Frame Identification. Recall that PowDew requires accurate corner location and movement detection to differentiate powders with minute differences in their physical characteristics. In this step, PowDew identifies inaccurate frames that contain incorrectly detected corners.
Errors in Corner Detection and Tracking. We observe two main sources of errors as depicted in Figure 6(b). First, re-identification error occurs when the same corner in different frames is assigned with two different IDs. Second, detection error occurs when the corner is not detected in certain frames. The combined effect of
these two errors results in inaccurate capturing of the corner movement.
Identification of Frames. We first identify the accurate frames (i.e., frames with all four correctly detected corners without any errors) across all video frames. For example, in Figure 6(b), frame a and frame c are accurate, while frame b contains both re-identification and detection errors. Note that the ID of the four corners is autogenerated based on their relative locations, with an ID of 1, 2, 3, 4 for the top-left, top-right, bottom-left, and bottom-right corners, respectively. The remaining frames are considered as inaccurate frames and we correct the errors in the subsequent steps.
3.4.3 Corner Correction. In this step, PowDew corrects both reidentification and detection errors in the inaccurate frames. Figure 6(c) details the processing pipeline.
(i) Correcting Re-identification Error. For the inaccurate frames, we first correct the re-identification error, which causes wrongly assigned IDs. For example, a corner may be assigned with an ID of 5 while only IDs of 1 to 4 are expected. Hence, we re-assign these corners with correct IDs by matching their locations with those in the nearest accurate frame. For example, for a corner, C5,b , assigned with ID of 5 in an inaccurate frame, b, we compare this corner with all four corners in the nearest accurate frame, a. We calculate the Euclidean distance, Dist, between the locations of these corners (i.e., Dist =
√
(LocC5,b − LocC1,a )2 where C1,a is the nearest corner
in the accurate frame, a). If Dist is within a threshold, we re-assign the ID of C5,b from 5 to 1.
(ii) Correcting Detection Error. Subsequently, we correct the detection error in inaccurate frames. Since the difference between locations of the same corner in adjacent frames is minimal, we can obtain the location of a missing corner by interpolating between the locations of the corner with the same ID in adjacent frames. For example, in frame b, we have a missing corner whose ID is supposed
215


PowDew: Detecting Counterfeit Powdered Food Products using a Commodity Smartphone MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan
to be 4. We can obtain its location by interpolating between corners with an ID of 4 in frames b − 1 and b + 1.
3.4.4 Feature Extraction. In this step, PowDew extracts relevant features from the corner movements to effectively capture changes in the size and shape of the checkerboard’s center square. Figure 6(d) depicts examples of the extracted features. Specifically, PowDew computes area and major-to-minor-axis ratio of the checkerboard’s center square to measure its size and shape, respectively, using four corners in each frame. We calculate area as the cross-product of the vectors along two diagonal axes, and major-tominor-axis ratio as the length ratio between the longer diagonal axis and the shorter one. Before computing the two features, PowDew performs z-score normalization to further reduce the variances of scale across different trials. Furthermore, we derive statistical features from these two features, including mean, variance, skewness, and kurtosis. These statistical features effectively capture the overall movement of corners and hence the dynamic changes in size and shape of the checkerboard’s center square. Finally, PowDew inputs the statistical features to its machine learning classifier.
3.5 Training and Verification
In the final phase, PowDew utilizes machine learning techniques to predict the authenticity of a powder using the features extracted from the video frames. Specifically, PowDew trains its machine learning model in the Training Phase to optimize the model’s performance and robustness. It then utilizes the trained model for prediction in the Verification Phase, as depicted in Figure 5(d). While PowDew is designed to be flexible and can employ various machine learning models as its classifier for identifying counterfeit infant formulas, we choose to use the XGBoost model. XGBoost provides a scalable, portable, and distributed gradient-boosting approach for classification via an ensemble architecture [19]. Among many possible alternatives, we select XGBoost due to its high classification performance stemming from its capability to optimize its model based on its additional regularization. We note that for improved robustness, despite XGBoost being an ensemble model itself, we further ensemble multiple versions of XGBoost with different initialization parameters. This is to assure that we mitigate the risk of overfitting to specific patterns (or outliers) in the data.
4 EVALUATION
We now present an extensive evaluation of PowDew using comprehensive real-world experiments.
4.1 Experiment Setup
Apparatus. Figure 7(a) illustrates our experimental setup. In our evaluation of PowDew, we use six distinct commercial infant formula products from various manufacturers around the globe: Similac [7] (made in Ireland), Aptamil [8] (made in the Netherlands), HiPP [41] (made in Germany), IMNZ [46] (made in New Zealand), Namyang Goat Milk [64] (made in Korea), Golden Jersey [47] (made in France but sold as a Korean brand). These products are prominent in global or regional markets.1 Recent reports indicate that
1For example, Similac is the leading baby formula (21.2%) in the U.S. market in 2016 [26]. Aptamil is the leading brand (52%) in the U.K. in 2018 [60].
counterfeiting methods in infant formulas have increasingly involved either adulteration (mixing with cheaper alternatives) or substitution (complete replacement with cheaper alternatives). To mimic these real-world scenarios, we select three different adulterants – milk powder (MP), whey protein concentrate powder (WP), and a different but cheaper brand of infant formula (CF). For the adulteration experiments, we prepare mixtures containing 50% of each adulterant with the authentic powder. For the substitution experiments, we completely replace the authentic powder with the adulterants. Prototype Implementation. To demonstrate the feasibility of our idea, we implement a preliminary version of PowDew on Android devices. Specifically, we implement a mobile app for user guidance and data collection and transfer the video data to a cloudbased server, equipped with a 3.0 GHz CPU, 64 GB memory, and RTX 4090 GPU, for preprocessing, feature extraction, training, and verification. Data Collection. We perform our data collection in a controlled environment with standard room temperature and humidity level of 25°C and 55%, respectively. Given the potential inconsistencies across different infant formula containers, we collect data from multiple containers of the same brand (i.e., make-and-model). Furthermore, to minimize oxidation effects, we only use formulas that are opened on the day of the experiment. Note that this would be a practical use case as users would likely test the authenticity of a formula upon opening a new container. For consistency, we employ a Samsung Galaxy Note 10+ for data collection (except for experiments with varying smartphones in Section 4.3.2). We record videos in Full High Definition (FHD) with a resolution of 1920x1080 pixels at 30 frames per second. Each recording session lasts three minutes, capturing subtle dynamic changes in the checkerboard pattern. Finally, we conduct our experiments adhering to our Institutional Review Board (IRB) approval. Evaluation Metrics. We evaluate the performance of PowDew using the following metrics. • Accuracy is the percentage of correctly classified instances (including both authentic and counterfeit) among all tested products (i.e., Accurac~ = (AuthT + CounterT ) / (AuthT + CounterT + AuthF + CounterF , where AuthT and AuthF are authentic products that are correctly and incorrectly classified, respectively, while CounterT and CounterF are counterfeit products that are correctly and incorrectly classified, respectively). • Recall is the percentage of correctly classified counterfeit instances among all counterfeit instances (i.e., Recall = CounterT / (CounterT + CounterF )).
• Precision is the percentage of correctly classified counterfeit instances among all instances classified as counterfeit (i.e., Precision = CounterT /(CounterT + AuthF )).
4.2 Overall Performance
Data Preparation. To evaluate the overall performance of PowDew, we collect 240 videos for each brand of infant formula. This includes 120 videos of authentic products, and 120 videos of counterfeit products (20 videos each for both 50% adulterated products and substituted products across three adulterants) ensuring a balanced dataset. For all evaluations in this section, we employ a five-fold
216


MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan Jonghyuk Yun, Kyoosik Lee, Kichang Lee, Bangjie Sun, Jaeho Jeon, JeongGil Ko, Inseok Hwang, and Jun Han
Golden
Jersey
Aptamil
INAMZ
Authentic (Six Off-the-Shelf Infant Formula Brands)
Organic Goat Milk
Namyang
50% Adulteration
100% Substitution
Counterfeit (Three Commonly Reported Adulterants)
Whey Protein Concentrate
Appratus Data Collection
§4.3.5 Drop Containers
§4.3.2 Smartphones
A53 S20+
Note20 Note10 Note10+
§4.3.6 Powder Beds
§4.3.4 Light Conditions
Dark room Fluorescent
Daylight
§4.3.3 Users
x5
§4.3.1 Adulterant Ratio
25%
100%
(a) Experimental Setup
(b) Varying Conditions
Smartphone
Spoon
Figure 7: Figure depicts the setup of our experiments. (a) We evaluate the effectiveness of PowDew by comparing different infant formulas and their counterfeits, including the tests for adulteration (where counterfeit substances are added) and substitution (where the authentic ingredients are completely replaced with the counterfeit substances). (b) We also comprehensively evaluate PowDew’s performance under varying experimental conditions.
Organic Goat Milk
Namyang INAMZ Aptamil GJoelrdseeny
Figure 8: Overall performance of PowDew, namely the accuracy, recall, and precision across six distinct brands of infant formula.
cross-validation, which involves training PowDew with a randomly selected set of 192 instances and testing it with the remaining 48 instances. Results We illustrate the overall results in Figure 8. We observe that PowDew achieves an overall accuracy of 92.31%. Specifically, PowDew yields an accuracy of 96.1%, 95.0%, 94.3%, 93.7%, 93.2% for Namyang Goat Milk, IMNZ, Aptamil, Golden Jersey, and HiPP, respectively. However, we note that PowDew yields a relatively lower accuracy of 87.0% for Similac. We attribute this performance degradation to missing information on the initial movement of the droplet immediately after it contacts with the powder, caused from the inevitable occlusion taking place from the user hand. While the same phenomena is acceptable for other formulas, Similac shows high wettability and porosity; thus, the droplet spreads and penetrates rapidly. This limits PowDew in accurately capturing the powder characteristics. Nevertheless, despite missing a few frames embedding the initial movement, PowDew is still capable of achieving a reasonable accuracy for practical use. Furthermore, Figure 8 presents results for PowDew in different performance dimensions, namely recall, and precision. PowDew
Whey Protein Concentrate
Figure 9: Accuracy for different types of adulterants.
yields a high recall, indicating that PowDew can successfully detect counterfeit products in most cases. Focusing on the results for Similac once again, while showing a relatively lower precision of 86.7%, in which authentic cases are misclassified as counterfeit, the recall rate, indicating the rate of wrongly-classified counterfeit samples, is high (93.4%). This is important to emphasize given that reducing the misclassification of counterfeit products (i.e., maintaining high recall) is critical in our use case to minimize the chances of detrimental consequences (e.g., illnesses or even fatalities). Overall, PowDew achieves high recall (i.e., 92.0% - 96.3%) and precision (i.e., 92.2% - 97.9% except Similac) in classifying authentic and counterfeit powdered food products. We further break down PowDew’s performance according to different adulterant cases. Figure 9 shows the average accuracy of PowDew for the aforementioned six original powders and three adulterants. We observe that PowDew generally yields high accuracy in detecting most types of adulterants (i.e., 50% mix). Specifically, PowDew yields an average accuracy of 96.3% and 94.0% in detecting adulteration of cheaper formulas, and whey protein powder, respectively. We attribute the high accuracy to the differences in the wettability and porosity of powdered food products between authentic products and adulterants. However, in the case of milk powder (MP) as an adulterant, we observe a relatively low classification accuracy since the core powder properties such as wettability and porosity of milk powder are more similar to the infant formulas.
217


PowDew: Detecting Counterfeit Powdered Food Products using a Commodity Smartphone MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan
25%
100%
50% 75%
Figure 10: Accuracy with varying adulteration ratios.
Figure 11: Accuracy for different smartphone models with varying specifications such as the autofocus (AF ).
Overall, PowDew remains accurate in detecting counterfeit products across different types of adulterants.
4.3 Differing Conditions
To demonstrate PowDew’s practicality and robustness, we evaluate its performance under varying environmental and experimental conditions, as depicted in Figure 7(b). For experiments from §4.3.1 through §4.3.6, we select Namyang Goat Milk as the authentic product and a budget milk powder (MP) as the adulterant. We choose this configuration to design a self-challenging scenario since MP shows similar physical properties to the authentic product. Unless specifically noted, we evaluate PowDew using three cases: authentic, 50% adulterated, and completely substituted.
4.3.1 Varying Adulteration Ratios. Since counterfeiters may produce counterfeit products using various percentages of adulterant, we evaluate PowDew’s performance with different percentages of adulterant (i.e., adulteration ratio). In Figure 10, we observe an increasing trend in PowDew’s accuracy as the adulteration ratio increases (i.e., less authenticity). We attribute this trend to the increasing disparity between counterfeit products and authentic products. However, we observe that the accuracy is ∼75% when the adulteration ratio is as low as 25%. Yet, this scenario is unlikely in reality as counterfeiters tend to lean towards higher adulteration ratios to maximize their profits [32, 84, 94]. Overall, PowDew is effective and robust in identifying counterfeit products across different adulteration ratios.
4.3.2 Varying Smartphone Models. Given the diversity of smartphone models, variations exist in both the users’ cameras and displays. We evaluate PowDew’s performance across five smartphone models with varying specifications. Notably, we focus on evaluating with unseen phones that PowDew has not been trained with. To this end, we adopt a leave-one-out approach, where we train on four
Figure 12: Accuracy for five different users operating PowDew.
smartphone models and test on the remaining one. We also ensure that the checkerboard appears of the same size on all smartphones (e.g., 2.5cm × 2.5cm for the center tile of the checkerboard) and that the camera-to-powder distance and position are consistent. Figure 11 depicts PowDew’s performance using each smartphone. We observe that smartphones equipped with auto-focus (i.e., Samsung Galaxy Note 20 [36], Note 10 [34], S20+ [37], and Note 10 [35]) achieve an accuracy of over 90%. On the contrary, Galaxy A53 [39], which lacks auto-focus features on its front-facing camera, yields the lowest accuracy of 72.5%. Without auto-focus, A53 fails to capture a clear image at close distances, causing blurry video frames and hence inaccurate detection and tracking of the checkerboard corners. To alleviate this constraint, we observe that attaching a simple and cheap off-the-shelf external lens (e.g., a macro lens) could significantly increase the sharpness of the video frames (see §5).
4.3.3 Varying Users. As PowDew involves user interaction to dispense droplets onto the powder, we evaluate PowDew’s robustness across different users. In particular, we invite five participants, all males in their twenties, and allocate a ten-minute practice session to each. This allows them to acquaint themselves with the system. This includes tasks such as aligning the spoon and dispensing water droplets. Then, each participant operates PowDew to collect data over a total of 60 trials, including 20 for authentic products, 20 for adulterated samples, and 20 for substitutions. We also adopt the leave-one-out approach. Figure 12 depicts the accuracy across different users. We observe that all five participants obtain a high accuracy of over 89.0% with slight variations in the accuracy. We attribute this variation to varying tilt levels and the force applied when dispensing water droplets from the dropper. We conjecture that we could further improve the accuracy by providing a comprehensive user guide, possibly in the form of a tutorial video, demonstrating common mistakes, including incorrect tilting angles. For a more fundamental improvement of PowDew’s usability, we envision automating the process by incorporating PowDew into commercial infant formula dispensers (see §5).
4.3.4 Varying Light Conditions. Given that PowDew captures the reflected checkerboard on water droplets, PowDew is sensitive to variations in lighting conditions. We evaluate PowDew’s performance in three lighting conditions: (1) Dark room (no lighting), (2) Daylight, and (3) Fluorescent light. We note that fluorescent lighting can occasionally create intense spot reflections on the droplet’s surface, overwhelming the checkerboard’s reflection. To prevent such exceptional scenarios, we position obstacles using common items like boxes and file folders around the smartphone and spoon
218


MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan Jonghyuk Yun, Kyoosik Lee, Kichang Lee, Bangjie Sun, Jaeho Jeon, JeongGil Ko, Inseok Hwang, and Jun Han
Dark room
Fluorescent Daylight
Figure 13: Accuracy under varying light conditions, namely Fluorescent lamp, Daylight, and Dark room.
Figure 14: Accuracy with varying drop containers. Containers A and B are amples with different volumes. Container C is an eyedrop. Containers D and E are droppers with different volumes.
to block intense direct lighting. Figure 13 depicts PowDew’s accuracy in three lighting conditions. We observe that PowDew achieves a high accuracy of over 93% in all conditions. Note that PowDew works well even without external lighting as the smartphone’s display itself illuminates the droplet. Overall, PowDew demonstrates its robustness to varying lighting conditions that are common in typical home environments.
4.3.5 Varying Drop Containers. Various dispenser types feature distinct tip shapes that impact the volume and velocity of the dispensed droplets. Hence, we evaluate the impact of the drop containers on PowDew’s performance. Specifically, we utilize five distinct drop containers as depicted in Figure 14. Note that these containers are easily accessible either online or offline. However, we observe that certain containers generate extremely small droplets, making it difficult to capture the reflected checkerboard. For such cases, we resort to dropping multiple droplets to form a larger droplet. From Figure 14, we observe that droplet containers have minimal impact on PowDew’s performance. Despite slight variations in droplet volume, PowDew consistently achieves high accuracy, surpassing 88.0% across all five containers. Overall, PowDew is robust to different types of drop containers.
4.3.6 Varying Powder Beds. Powdered food products like infant formula usually come equipped with spoons to maintain consistent nutrient intake. However, the size and shape of spoons vary across different brands. Hence, we evaluate PowDew’s performance using five distinct spoon designs from authentic infant formulas. For all spoons, we scooped a spoonful of formula and leveled the surface, which is the standard practice in preparing the formula for feeding. Figure 15 depicts PowDew’s accuracy for each spoon and a corresponding picture of its design. We note that PowDew’s performance varies slightly across spoons with different shapes and sizes, but it generally achieves a high accuracy of above 90%
Figure 15: Accuracy under varying powder bed conditions. Spoons A to E have different sizes and shapes: circle, square, and ovoid.
Figure 16: Accuracy of various machine learning classifier options.
for all spoons. However, we note that Spoons C, D, and E yield a relatively lower accuracy of 93.8%, 93.8%, and 90.7%, respectively. We attribute this to their relatively large size and asymmetrical shape. Instinctively, when the user uses a large and asymmetrical spoon to scoop the powder, ensuring uniform powder density throughout the entire spoon becomes challenging. As density can notably impact the powder’s porosity, it results in a decline in PowDew’s performance. Therefore, for optimal performance, we suggest users adopt relatively small and symmetrical spoon designs like Spoon A and B. Nevertheless, our results suggest that PowDew is still robust to different types of powder beds.
4.4 Classifier Comparisons
Finally, we present evaluations on the impact of using different classifiers in PowDew. Specifically, we examine the performance of PowDew when employing widely used machine learning classifiers including AdaBoost [31], Random Forest [15], SVM [13], MLP [22], and HistGradientBoost [65]. Note that PowDew chooses to use an ensembled XGBoost model as its classifier (see §3.5). For fairness, we ensemble three versions of each classifier (with varying initialization parameters) for all cases presented in this experiment. Figure 16 presents the classification results. We observe that XGBoost, which PowDew adopts, generally yields higher accuracy than other classifiers across all six infant formula products. At the same time, one important observation to make from this plot is that alternative models also show a reasonably high performance. This hints on the robustness of PowDew’s core functionalities. While we adopt XGBoost as the main classifier, our results suggest that other classifiers can also be used when they show higher performance with new (or different) infant formula products.
219


PowDew: Detecting Counterfeit Powdered Food Products using a Commodity Smartphone MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan
5 DISCUSSION
We now present some interesting discussion points we extract from our experience in designing and developing PowDew. • Deployment Considerations. Recall that the current implementation of PowDew is limited to using only the front-facing camera, as displaying the checkerboard pattern requires the smartphone’s screen. This constraint is particularly disadvantageous for phones lacking auto-focus features on the front-facing camera, such as Galaxy A53 (see § 4.3.2). To alleviate this constraint, we empirically observe that attaching a simple and cheap off-the-shelf external lens [3, 5, 6] significantly enhances PowDew’s performance. Furthermore, the use of foldable smartphones, like the Galaxy Z Flip [38], could enable PowDew to utilize rear cameras, which generally possess more advanced camera hardware. • Model Training in PowDew. We foresee a variety of stakeholders showing interest in adopting PowDew. For instance, infant formula manufacturers are likely to have strong incentives to implement PowDew. Similarly, government agencies, such as the FDA or Customs Service, and law enforcement agencies might also consider adopting it. We anticipate that the entity adopting PowDew would be responsible for pre-training a target model with accurate ground truth information. Nevertheless, despite a pre-trained model, the practicality of preparing the model for all potential adulterants is implausible. Thus, to fortify the model’s ability to detect counterfeit products containing unseen adulterants, strategies to mitigate this challenge must be devised. While we leave this as part of future work, a plausible direction of research could be integrating an uncertainty-based module [62, 92], which can assess uncertainties within the model’s predictions to identify potential anomalies that align with previously unseen adulterants. For example, such a module could flag items where the model’s confidence levels are notably low for further inspection. • Process Automation. To automate the process of detecting counterfeits, we envision incorporating PowDew into commercial automatic infant formula dispensers [10]. These dispensers, which are becoming increasingly popular, operate similarly to an espresso machine, requiring users to simply refill the powder and water. We envision equipping these dispensers with a small camera that would deploy PowDew to automatically verify the authenticity of the formula before feeding the infants.
• Extending PowDew to New Applications. While we initially propose PowDew as a solution to detect counterfeit infant formula, its application may certainly be extended to other domains. For instance, numerous powdered food products, such as powdered milk [63, 88], spices [11, 57, 78, 79], and dietary supplements [4, 53, 86], are also vulnerable to counterfeiting [90, 99]. Furthermore, the scope of PowDew could be expanded to include the detection of counterfeit or substandard medicines that are in granular form, such as capsule pills. The production of these powdered food products involves complex manufacturing processes to maintain uniform nutrition and physical properties, making them suitable for use in our system. The design and experimental results for PowDew presented in this work suggest PowDew’s generalizability in a variety of sectors where product authenticity is critical.
• Limitations of PowDew. We demonstrate the robustness of PowDew through comprehensive evaluations involving diverse controlled variables, yet limitations may exist. Sophisticated counterfeiters emulate authentic powdered food products by employing identical manufacturing processes and ingredients. Moreover, PowDew’s effectiveness might diminish with extremely low concentrations of adulterants. Nevertheless, the suggested mechanisms entail significantly higher costs compared to mere adulteration or substitution, opposing the objectives of counterfeiters.
6 RELATED WORK
We now present related research in this domain and position PowDew among previous work. • Laboratory-based Solutions. Conventional laboratory-based material testing, such as near-infrared spectroscopy (NIRS) and mass spectrometry, involves analyzing the chemical composition of substances. Researchers have explored the use of NIRS [16, 29, 40, 52, 55, 61, 97, 100] and mass spectrometry [42, 56, 83] for verifying the authenticity of various types of powdered food products. However, these methods require costly equipment and a high level of expertise, rendering them practically inaccessible to average users. In contrast, PowDew offers a low-cost, pervasive alternative that requires only a commodity smartphone.
• Smartphone-based Solutions. Recent studies explore techniques that utilize smartphones to verify counterfeit commercial products [18, 45, 81, 95, 98]. For example, LiquidHash [81], CapCam [98], and Vi-Liquid [45] utilizes the unique characteristics of bubbles, capillary waves, and vibration, respectively to determine liquid authenticity and physical properties such as surface tension, and viscosity. However, these approaches require transparent liquids, while powdered food products dissolve in water and result in opaque solutions. Furthermore, MobiSpectral [76] leverages a smartphone’s infrared sensor for hyperspectral imaging to detect food fraud. However, the modern smartphone hardware does not support sufficiently high wavelengths of infrared light to detect adulteration in powdered food products. In contrast, PowDew employs only a single smartphone by leveraging the analysis of droplet motion on the powder bed. In addition, FilterOp [80] uses smartphone’s display light to verify filtration efficiency of a mask. However, this method does not fit to powdered food products, since it is difficult to make powder layer consistently thin enough for light to pass through. This method also requires two smart devices unlike PowDew.
7 CONCLUSION
We present PowDew, a novel system designed to detect counterfeit powdered infant formulas using only a commodity smartphone camera. PowDew capitalizes on the principle that different powdered formulas exhibit unique properties upon contact with liquid, discernible through the water droplet motion interacting with the powder. Specifically, PowDew analyzes the droplet’s spreading and penetration, to infer information correlated to the powder properties such as wettability and porosity, which are key indicators of the formula’s authenticity. We evaluate PowDew with comprehensive real-world experiments under varying conditions to achieve an overall detection accuracy of up to 96.1%.
220


MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan Jonghyuk Yun, Kyoosik Lee, Kichang Lee, Bangjie Sun, Jaeho Jeon, JeongGil Ko, Inseok Hwang, and Jun Han
ACKNOWLEDGMENTS
We sincerely thank our anonymous reviewers and shepherd for their valuable feedback. We are also grateful to Seonho Kim for his efforts in conducting the experiments. This work is partially supported by grants from the National Research Foundation of Korea (NRF), funded by the Ministry of Science and ICT (MSIT) under grants RS-2023-00277848 and No. 2021R1A2C200386612, and by the ITRC Program supervised by the IITP (IITP-2022-2020-001461, IITP-2022-0-00420). JeongGil Ko, Inseok Hwang, and Jun Han are co-corresponding authors of this work.
REFERENCES
[1] AFP. 2016. China arrests six over fake infant formula: government. http://hongkongfp.com/2016/04/05/china-arrests-six-over-fake-infantformula- government/ [2] SMMS Afreen and SMMS Himaya. 2022. PHYSICO CHEMICAL EVALUATION OF SPRAY DRIED MILK POWDER. In 10TH YSF SYMPOSIUM. Nastec, 114. [3] Aliexpress. 2023. Fisheye Wide Angle Macro Acrylic Glass Lens. https: //bitly.ws/33YJo [4] Alpvision. 2021. Learn how to spot fake supplements and counterfeit products. https://alpvision.com/do- you- know- how- to- spot- fake- supplements/ [5] Amazon. 2018. QEBIDUM Phone Camera Lens. https://a.co/d/7vZE09K [6] Amazon. 2019. Hemobllo Portable Cell Phone Camera Lens. https://a.co/d/ 9m8rzSs [7] Amazon. 2023. Similac Advance Infant Formula with Iron, Baby Formula Powder. https://a.co/d/awn03Aa [8] Aptamil. 2023. Aptamil PROFUTURA 1, formula milk from birth (800g/28.2 oz). https://bitly.ws/33YMz [9] Tanzina Azad and Shoeb Ahmed. 2016. Common milk adulteration and their detection techniques. International Journal of Food Contamination 3, 1 (2016), 1–9. [10] Babybrezza. 2022. Formula Pro Advanced Baby Formula Dispenser. https: //babybrezza.com/products/formula- pro- advanced [11] BBC. 2017. China probes ’fake seasoning producing hub’ near Tianjin. https: //www.bbc.com/news/world- asia- china- 38646614 [12] Gonca Bilge, Banu Sezer, Kemal Efe Eseller, Halil Berberoglu, Ali Topcu, and Ismail Hakki Boyaci. 2016. Determination of whey adulteration in milk powder by using laser induced breakdown spectroscopy. Food chemistry 212 (2016), 183–188. [13] Bernhard E Boser, Isabelle M Guyon, and Vladimir N Vapnik. 1992. A training algorithm for optimal margin classifiers. In Proceedings of the fifth annual workshop on Computational learning theory. ACM, ACM, 144–152.
[14] Tania Branigan. 2008. Chinese figures show fivefold rise in babies sick from contaminated milk. https://www.theguardian.com/world/2008/dec/02/china [15] Leo Breiman. 2001. Random forests. Machine learning 45 (2001), 5–32. [16] Edoardo Capuano, Rita Boerrigter-Eenling, Alex Koot, and Saskia M van Ruth. 2015. Targeted and untargeted detection of skim milk powder adulteration by near-infrared spectroscopy. Food analytical methods 8 (2015), 2125–2134. [17] CGTN. 2018. A factory packaging fake baby formula shuts down in Spain, shocks China. https://news.cgtn.com/news/3d3d414d7759444d77457a6333566d54/ index.html [18] Justin Chan, Ananditha Raghunath, Kelly E Michaelsen, and Shyamnath Gollakota. 2022. Testing a drop of liquid using smartphone LiDAR. Proceedings of the ACM on Interactive, Mobile, Wearable and Ubiquitous Technologies 6, 1 (2022), 1–27. [19] Tianqi Chen and Carlos Guestrin. 2016. Xgboost: A scalable tree boosting system. In Proceedings of the 22nd acm sigkdd international conference on knowledge discovery and data mining. ACM, 785–794.
[20] Kelsey Cheng. 2020. Pinduoduo Launches Mini Program to Crack Down on Fake Milk Formula. https://pandaily.com/pinduoduo-launches-mini-programto- crack- down- on- fake- milk- formula/ [21] Nandini Roy Choudhury. 2023. Infant Formula Market. https://www. futuremarketinsights.com/reports/infant- formula- market [22] George Cybenko. 1989. Approximation by superpositions of a sigmoidal function. Mathematics of control, signals and systems 2, 4 (1989), 303–314. [23] Henry Darcy. 1856. Les fontaines publiques de la ville de Dijon: exposition et application des principes à suivre et des formules à employer dans les questions de distribution d’eau. Vol. 1. Victor dalmont. [24] Michel J De Ruijter, Joël De Coninck, and G Oshanin. 1999. Droplet spreading: partial wetting regime revisited. Langmuir 15, 6 (1999), 2209–2216. [25] M Denesuk, GL Smith, BJJ Zelinski, NJ Kreidl, and Donald R Uhlmann. 1993. Capillary penetration of liquid droplets into porous materials. Journal of colloid and interface science 158, 1 (1993), 114–120.
[26] Statista Research Department. 2016. Market share of the leading baby formula (powder) brands of the United States in 2016, based on dollar sales. https://www.statista.com/statistics/443950/market-share-of-the-leadingus- baby- formula- powder- brands/ [27] K Dhanalakshmi, S Ghosal, and S Bhattacharya. 2011. Agglomeration of food powder and applications. Critical reviews in food science and nutrition 51, 5 (2011), 432–441. [28] Wolfgang Ehlers. 2023. A historical review on porous-media research. PAMM 23, 3 (2023), e202300271. [29] Kizito Kene Ejeahalaka and Stephen LW On. 2020. Effective detection and quantification of chemical adulterants in model fat-filled milk powders using NIRS and hierarchical modelling strategies. Food chemistry 309 (2020), 125785. [30] Just Food. 2016. Chinese "fake" infant formula scandal widens. https://www.justfood.com/news/chinese- fake- infant- formula- scandal- widens/ [31] Yoav Freund and Robert E Schapire. 1997. A decision-theoretic generalization of on-line learning and an application to boosting. Journal of computer and system sciences 55, 1 (1997), 119–139. [32] Kashmira Gander. 2019. Fake Formula Bought at Wal-Mart Made Baby Vomit, Investigation Launched. https://newsweek.com/fake-baby-formula-wal-martpolice- investigation- 1454182 [33] Herbert Giesche. 1998. Surface Area, Density and Porosity of Powders. In Surface Area, Density and Porosity of Powders. 274–286.
[34] Gsmarena. 2019. Samsung Galaxy Note10 - Full phone specifications — gsmarena.com. https://www.gsmarena.com/samsung_galaxy_note10-9788.php. [35] Gsmarena. 2019. Samsung Galaxy Note10+ - Full phone specifications — gsmarena.com. https://www.gsmarena.com/samsung_galaxy_note10+-9732.php. [36] Gsmarena. 2020. Samsung Galaxy Note20 - Full phone specifications — gsmarena.com. https://www.gsmarena.com/samsung_galaxy_note20-10338.php. [37] Gsmarena. 2020. Samsung Galaxy S20+ - Full phone specifications — gsmarena.com. https://www.gsmarena.com/samsung_galaxy_s20+-10080.php. [38] Gsmarena. 2020. Samsung Galaxy Z Flip - Full phone specifications — gsmarena.com. https://www.gsmarena.com/samsung_galaxy_z_flip-10054.php [39] Gsmarena. 2022. Samsung Galaxy A53 5G - Full phone specifications — gsmarena.com. https://www.gsmarena.com/samsung_galaxy_a53_5g-11268.php. [40] Yongji He, Wanjun Zeng, Yuxuan Zhao, Xinpeng Zhu, Hongchang Wan, Meng Zhang, and Zhicheng Li. 2023. Rapid detection of adulteration of goat milk and goat infant formulas using near-infrared spectroscopy fingerprints. International Dairy Journal 137 (2023), 105536. [41] HiPP. 2023. HiPP Dutch Organic Formula - Stage 1 - Organic Formula Shop — organicformulashop.com. https://organicformulashop.com/products/hippdutch- organic- formula- stage- 1 [42] Richard Hiserodt, Thomas G Hartman, Chi-Tang Ho, and Robert T Rosen. 1996. Characterization of powdered turmeric by liquid chromatography-mass spectrometry and gas chromatography-mass spectrometry. Journal of chromatography A 740, 1 (1996), 51–63. [43] Paul VC Hough. 1959. Machine analysis of bubble chamber pictures. In International Conference on High Energy Accelerators and Instrumentation, CERN, 1959. CERN, 554–556. [44] Yanzhong Huang. 2014. The 2008 Milk Scandal Revisited. https: //www.forbes.com/sites/yanzhonghuang/2014/07/16/the- 2008- milk- scandalrevisited/?sh=5ed80e4b4105 [45] Yongzhi Huang, Kaixin Chen, Yandao Huang, Lu Wang, and Kaishun Wu. 2021. Vi-liquid: unknown liquid identification with your smartphone vibration. In Proceedings of the 27th Annual International Conference on Mobile Computing and Networking. 174–187.
[46] IAMNZ. 2012. IAMNZ Gold+. https://www.tradekorea.com/product/detail/ P565522/IAMNZ- Gold- .html [47] Ivenet. 2023. Golden Jersey. https://www.tradekorea.com/product/detail/ P386579/Ivenet- Infant- Formula.html [48] Jammu and Kashmir. 2023. J&K: Prominent Srinagar departmental store booked for selling adulterated baby food leading to deterioration of infant’s health. https://bitly.ws/33YKa [49] Darko Janjevic. 2016. China detains sellers of fake baby formula. https: //www.dw.com/en/china- detains- sellers- of- fake- baby- formula/a- 19164231 [50] Ralph Jennings and Ben Blanchard. 2010. After 2008 scare, China finds more toxic milk products. https://www.reuters.com/article/us-china-melamineidUSTRE60O0RO20100125/ [51] Shan Juan. 2016. Authorities look for 3,300 cans of fake infant formula - China. https://www.chinadaily.com.cn/china/2016- 04/09/content_24400556.htm [52] Sanjeewa R Karunathilaka, Betsy Jean Yakes, Keqin He, Jin Kyu Chung, and Magdi Mossoba. 2018. Non-targeted NIR spectroscopy and SIMCA classification for commercial milk powder authentication: A study using eleven potential adulterants. Heliyon 4, 9 (2018). [53] Kaushal. 2023. Protein powder recall: reason, affected lot numbers, and all you need to know. https://www.sportskeeda.com/lifestyle/news-protein-powderrecall- reason- affected- lot- numbers- need- know [54] Banu Koç, Mehmet Koç, and Ulaş Baysan. 2021. Food powders bulk properties. Food powders properties and characterization (2021), 1–36.
221


PowDew: Detecting Counterfeit Powdered Food Products using a Commodity Smartphone MOBISYS ’24, June 3–7, 2024, Minato-ku, Tokyo, Japan
[55] Santosh Lohumi, Sangdae Lee, Wang-Hee Lee, Moon S Kim, Changyeun Mo, Hanhong Bae, and Byoung-Kwan Cho. 2014. Detection of starch adulteration in onion powder by FT-NIR and FT-IR spectroscopy. Journal of Agricultural and Food Chemistry 62, 38 (2014), 9246–9251. [56] Dion MAM Luykx, Jan HG Cordewener, Pasquale Ferranti, Rob Frankhuizen, Maria GEG Bremer, Hendricus Hooijerink, and Antoine HP America. 2007. Identification of plant proteins in adulterated skimmed milk powder by highperformance liquid chromatography—mass spectrometry. Journal of Chromatography A 1164, 1-2 (2007), 189–197. [57] Kelsey M. Mackin. 2018. Six brands of curry powder recalled because of excessive lead. https://www.foodsafetynews.com/2018/10/six-brands-of-curry-powderrecalled- because- of- excessive- lead/ [58] Joe McDonald. 2004. Arrests In Fake Baby Formula Case - CBS News. https: //www.cbsnews.com/news/arrests- in- fake- baby- formula- case/ [59] Amy McShane. 2017. Nine arrested in China over fake milk powder - state media. https://www.farmersjournal.ie/news/news/nine-arrested-in-chinaover- fake- milk- powder- state- media- 205738 [60] Mintel. 2019. The infant milk market in the UK. https://bitly.ws/33ZIF [61] Olga Monago-Maraña, Carl Emil Eskildsen, Teresa Galeano-Díaz, Arsenio Muñoz de la Peña, and Jens Petter Wold. 2021. Untargeted classification for paprika powder authentication using visible–Near infrared spectroscopy (VIS-NIRS). Food Control 121 (2021), 107564. [62] Martin Mundt, Iuliia Pliushch, Sagnik Majumder, and Visvanathan Ramesh. 2019. Open set recognition through deep neural network uncertainty: Does out-of-distribution detection require generative classifiers?. In Proceedings of the IEEE/CVF International Conference on Computer Vision Workshops. IEEE/CVF. [63] NAFDAC. 2023. Public Alert No. 026/2023 – Alert on Counterfeit Peak Milk in Circulation. https://www.nafdac.gov.ng/public-alert-no-026-2023-alert-oncounterfeit- peak- milk- in- circulation/ [64] Namyang. 2023. Namyang Goat Milk. https://company.namyangi.com/product/ product_view.asp?brand_seq=372 [65] F. Pedregosa, G. Varoquaux, A. Gramfort, V. Michel, B. Thirion, O. Grisel, M. Blondel, P. Prettenhofer, R. Weiss, V. Dubourg, J. Vanderplas, A. Passos, D. Cournapeau, M. Brucher, M. Perrot, and E. Duchesnay. 2011. Scikit-learn: Machine Learning in Python. Journal of Machine Learning Research 12 (2011), 2825–2830. [66] M Piskunov, A Semyonova, N Khomutov, A Ashikhmin, and V Yanovsky. 2021. Effect of rheology and interfacial tension on spreading of emulsion drops impacting a solid surface. Physics of Fluids 33, 8 (2021). [67] Stephen M Pizer. 1990. Contrast-limited adaptive histogram equalization: Speed and effectiveness. In Proceedings of the first conference on visualization in biomedical computing, Atlanta, Georgia, Vol. 337. IEEE, 2.
[68] Joseph Redmon, Santosh Divvala, Ross Girshick, and Ali Farhadi. 2016. You only look once: Unified, real-time object detection. In Proceedings of the IEEE conference on computer vision and pattern recognition. IEEE, 779–788.
[69] Precedence Research. 2023. Infant Formula Market Size To Surpass USD 174.66 Bn By 2032. https://www.precedenceresearch.com/infant-formula-market [70] Syed SH Rizvi. 2014. Thermodynamic properties of foods in dehydration. In Engineering properties of foods. CRC Press, 261–348.
[71] Halim Said and Izlaily Hussein. 2017. Discovery of fake baby formula in Johor triggers widespread concern. https://www.nst.com.my/news/nation/2017/12/ 313396/discovery- fake- baby- formula- johor- triggers- widespread- concern [72] Steve Sapp. 2021. Philadelphia CBP Seizes Nearly 600 Cases of Infant Formula Unapproved for Import to the United States | U.S. Customs and Border Protection. https://www.cbp.gov/newsroom/local-media-release/philadelphia-cbpseizes- nearly- 600- cases- infant- formula- unapproved [73] Cordelia Selomulya, Yuan Fang, and Yong Wang. 2024. Chapter 17 - Food powder rehydration. In Handbook of food powders. Elsevier, 295–316. [74] Anup Sharma, Atanu H Jana, and Rupesh Shrikant Chavan. 2012. Functionality of milk powders and milk-based powders for end use applications—a review. Comprehensive Reviews in Food science and Food safety 11, 5 (2012), 518–528. [75] Neetu Sharma. 2016. ISI mark on your milk powder may be a counterfeit. https://www.businesstoday.in/latest/economy-politics/story/isi-mark-onyour- milk- powder- may- be- a- counterfeit- 145598- 2016- 09- 09 [76] Neha Sharma, Muhammad Shahzaib Waseem, Shahrzad Mirzaei, and Mohamed Hefeeda. 2023. MobiSpectral: Hyperspectral Imaging on Mobile Devices. In Proceedings of the 29th Annual International Conference on Mobile Computing and Networking. ACM, 1–15.
[77] Irwin Sobel, Gary Feldman, et al. 1968. A 3x3 isotropic gradient operator for image processing. a talk at the Stanford Artificial Project in (1968), 271–272. [78] Sowmiya Sriram. 2023. Is chili powder adulterated? Cancer-causing fakes? http://www.indiaherald.com/Health/Read/994573443/Is-chili-powderadulterated- Cancercausing- fakes [79] Tara Struyk. 2013. Are Your Spices Fake? https://www.wisebread.com/areyour- spices- fake [80] Bangjie Sun, Sabharwal Kanav, Gyuyeon Kim, Mun Choon Chan, and Jun Han. 2023. Testing Masks and Air Filters With Your Smartphones. In Proceedings of the 20th Conference on Embedded Networked Sensor Systems. ACM, 1–15.
[81] Bangjie Sun, Sean Rui Xiang Tan, Zhiwei Ren, Mun Choon Chan, and Jun Han. 2022. Detecting counterfeit liquid food products in a sealed bottle using a smartphone camera. In Proceedings of the 20th Annual International Conference on Mobile Systems, Applications and Services. ACM, 42–55.
[82] T Svitova, H Hoffmann, and Randal M Hill. 1996. Trisiloxane surfactants: surface/interfacial tension dynamics and spreading on hydrophobic surfaces. Langmuir 12, 7 (1996), 1712–1721. [83] Manjun Tay, Guihua Fang, Poh Ling Chia, and Sam Fong Yau Li. 2013. Rapid screening for detection and differentiation of detergent powder adulteration in infant milk formula by LC–MS. Forensic science international 232, 1-3 (2013), 32–39. [84] Phil Taylor. 2022. Amid shortages, FDA gives advice on spotting fake infant formula — securingindustry.com. https://www.securingindustry.com/foodand- beverage/amid- shortages- fda- gives- advice- on- spotting- fake- infantformula/s104/a14496/ [85] Elmira Arab Tehrany and Kees Sonneveld. 2010. Packaging and the shelf life of milk powders. Food packaging and shelf life (2010), 127.
[86] Pratik Thakkar. 2018. How To Tell If Your Protein Powder Is Fake. https://www.mensxp.com/health/body-building/47723-how-to-tellif- your- protein- powder- is- fake.html [87] Billie Thomson. 2020. Toddlers left with deformed heads after being raised on ’fake formula’. https://www.dailymail.co.uk/news/article-8315105/Toddlersseverely- deformed- heads- raised- fake- baby- formula- report- reveals.html [88] TNN. 2018. 1 held in fake milk powder unit bust at Burrabazar. https://timesofindia.indiatimes.com/city/kolkata/1- held- in- fake- milkpowder- unit- bust- at- burrabazar/articleshow/65618174.cms [89] Richard Turcsik. 1995. COUNTERFEIT SIMILAC FOUND IN CALIFORNIA. https://www.supermarketnews.com/archive/counterfeit-similac-foundcalifornia [90] Healthy U. 2020. The Dangers of Fake Bodybuilding Products. https://www. healthyu.co.ke/blog- post/the- dangers- of- fake- bodybuilding- products/ [91] Ultralytics. 2023. YOLOv8. https://docs.ultralytics.com/ [92] Meng Wang, Tian Lin, Lianyu Wang, Aidi Lin, Ke Zou, Xinxing Xu, Yi Zhou, Yuanyuan Peng, Qingquan Meng, Yiming Qian, et al. 2023. Uncertainty-inspired open set learning for retinal anomaly identification. Nature Communications 14, 1 (2023), 6757. [93] Nicolai Wojke, Alex Bewley, and Dietrich Paulus. 2017. Simple online and realtime tracking with a deep association metric. In 2017 IEEE international conference on image processing (ICIP). IEEE, IEEE, 3645–3649.
[94] Xinhua. 2017. Chinese syndicate stands trial for faking baby formula. http: //www.china.org.cn/china/2017- 03/29/content_40518692.htm [95] Yanni Yang, Yanwen Wang, Jiannong Cao, and Jinlin Chen. 2022. HearLiquid: nonintrusive liquid fraud detection using commodity acoustic devices. IEEE Internet of Things Journal 9, 15 (2022), 13582–13597.
[96] Thomas Young. 1805. III. An essay on the cohesion of fluids. Philosophical transactions of the royal society of London 95 (1805), 65–87.
[97] Dai-xin Yu, Sheng Guo, Xia Zhang, Hui Yan, Zhen-yu Zhang, Xin Chen, Jiangyan Chen, Shan-jie Jin, Jian Yang, and Jin-ao Duan. 2022. Rapid detection of adulteration in powder of ginger (Zingiber officinale Roscoe) by FT-NIR spectroscopy combined with chemometrics. Food Chemistry: X 15 (2022), 100450. [98] Shichao Yue and Dina Katabi. 2019. Liquid testing with your smartphone. In Proceedings of the 17th Annual International Conference on Mobile Systems, Applications, and Services. ACM, 275–286.
[99] Andrew Zaleski. 2019. The Scam of Deadly Fitness Supplements. https://elemental.medium.com/the- scam- of- deadly- fitness- supplementse858703db427. [100] John-Lewis Z Zaukuu, Zsanett Bodor, Flora Vitalis, Victoria Zsom-Muha, and Zoltan Kovacs. 2019. Near infrared spectroscopy as a rapid method for detecting paprika powder adulteration with corn flour. Acta Periodica Technologica 50 (2019), 346–352.
222